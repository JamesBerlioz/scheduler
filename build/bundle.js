(()=>{function L(t,e,o){let n=document.createElement(e);return n.className=t,n.id=o,n}function P(t,e,o="end"){return o=="end"?e.append(t):o=="start"&&e.prepend(t),t}var r=class{constructor(e,o,n){this.htmlObject=L(e,o,n),this.addToParent=function(m,k){P(this.htmlObject,m.htmlObject,k)}}};var f=class extends Array{},s=new f,c=new f;var b=class extends r{constructor(e){super("handler","div",e)}};var l=class extends r{constructor(e){super("routine","div",e)}};var x=class extends r{constructor(e){super("routine__case","button",e),this.hasClickEventListener=!1}addClickEventListener(e){this.hasClickEventListener=!0,this.htmlObject.addEventListener("click",()=>{i.setOld(),W(this.htmlObject,e.htmlObject)})}};var w=class extends r{constructor(e){super("routine__task","p",e)}};var E=class extends r{constructor(e){super("routine__time","time",e)}};function S(t,e){if(t.id.startsWith("today")){let o=new x(`todayCase_${s.length+1}`),n=new E(`todayCase_${s.length+1}Time`),m=new w(`todayCase_${s.length+1}Task`);return m.htmlObject.innerText=e.value,o.htmlObject.append(n.htmlObject),o.htmlObject.append(m.htmlObject),s.push(o),o.htmlObject}else if(t.id.startsWith("tomorrow")){let o=new x(`tomorrowCase_${c.length+1}`),n=new E(`tomorrowCase_${c.length+1}Time`),m=new w(`tomorrowCase_${c.length+1}Task`);return m.htmlObject.innerText=e.value,o.htmlObject.append(n.htmlObject),o.htmlObject.append(m.htmlObject),c.push(o),o.htmlObject}}function g(t){let e=1;for(obj of t){let o=obj.htmlObject;o.isConnected==!0&&(o.id=o.id.split("_")[0].concat(`_${e}`),o.children[0].id=o.children[0].id.split("_")[0].concat(`_${e}Time`),o.children[1].id=o.children[1].id.split("_")[0].concat(`_${e}Task`),e++)}for(obj of t)obj.htmlObject.isConnected==!1&&t.splice(t.indexOf(obj),1)}function N(t,e){t.children[0].innerText="",e.children[0].value="",t.parentElement.replaceChild(e,t),e.children[0].focus()}function $(t,e,o){t.parentElement.append(e.htmlObject),t.remove(),g(o)}function _(t,e){let o=S(t.parentElement,t.children[0]);t.parentElement.replaceChild(o,t),o.parentElement.append(e.htmlObject)}function W(t,e){e.children[0].value=t.children[1].innerText,t.parentElement.replaceChild(e,t),e.children[0].focus()}var i={value:"new",setNew:function(){this.value="new"},setOld:function(){this.value="old"}};function R(t,e){for(obj of e)obj.htmlObject.isConnected==!1&&(obj.htmlObject.children[1].innerText=t.children[0].value,t.parentElement.replaceChild(obj.htmlObject,t))}var p=class extends r{constructor(e,o){super("routine__empty-case","button",e),this.htmlObject.addEventListener("mouseover",()=>{this.htmlObject.children[0].innerText="+"}),this.htmlObject.addEventListener("mouseout",()=>{this.htmlObject.children[0].innerText=""}),this.htmlObject.addEventListener("click",()=>{i.setNew(),N(this.htmlObject,o.htmlObject)})}};var a=class extends r{constructor(e){super("routine__empty-text","p",e)}};var d=class extends r{constructor(e,o,n){super("routine__input","input",e),document.addEventListener("click",m=>{!m.composedPath().includes(this.htmlObject)&&this.htmlObject.isConnected&&this.checkTodayInputValue()},!0),this.htmlObject.addEventListener("keydown",m=>{(m.code=="Enter"||m.code=="Escape")&&this.checkTodayInputValue()},!0),this.checkTodayInputValue=function(){this.htmlObject.value==""?$(this.htmlObject.parentElement,o,n):i.value=="new"?_(this.htmlObject.parentElement,o):i.value=="old"&&R(this.htmlObject.parentElement,n)}}};var h=class extends r{constructor(e){super("routine__input-case","div",e)}};var u=class extends r{constructor(e){super("routine__title","h3",e),this.setInnerText=function(o){this.htmlObject.innerText=o}}};var O=new b("handlerUp");document.getElementById("main").append(O.htmlObject);var C=new l("todayRoutine");C.addToParent(O);var U=new u("todayTitle");U.setInnerText("Today:");U.addToParent(C);var j=new h("todayInputCase"),y=new p("todayEmptyCase",j),F=new d("todayInputText",y,s),B=new a("todayEmptyText");F.addToParent(j);y.addToParent(C);B.addToParent(y);var v=new l("tomorrowRoutine");v.addToParent(O);var V=new u("tomorrowTitle");V.setInnerText("Tomorrow:");V.addToParent(v);var T=new h("tomorrowInputCase"),I=new p("tomorrowEmptyCase",T),q=new d("tomorrowInputText",I,c),z=new a("tomorrowEmptyText");q.addToParent(T);I.addToParent(v);z.addToParent(I);document.addEventListener("click",D);document.addEventListener("keydown",t=>{(t.code=="Enter"||t.code=="Escape")&&D()});function D(){for(elem of s)elem.hasClickEventListener==!1&&elem.addClickEventListener(j);for(elem of c)elem.hasClickEventListener==!1&&elem.addClickEventListener(T)}})();
//# sourceMappingURL=bundle.js.map
